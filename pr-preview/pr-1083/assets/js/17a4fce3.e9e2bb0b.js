"use strict";(self.webpackChunkpush_website=self.webpackChunkpush_website||[]).push([[8877],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(296540);const t={},a=s.createContext(t);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(a.Provider,{value:n},e.children)}},94769:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var s=i(474848),t=i(28453);const a={id:"docs-chain-tutorial-build-email",title:"Build Cross-Chain Email",hide_title:!0,slug:"./build-email",displayed_sidebar:"pushChainSidebar",sidebar_position:1,image:"/assets/docs/previews/docs_chain_tutorial_build_email--build_cross-chain_email.png"},r="Build a Cross-Chain Email",c={id:"chain/tutorials/docs-chain-tutorial-build-email",title:"Build Cross-Chain Email",description:"In this guide, we\u2019ll demonstrate how to send a cross-chain email using the updated Push Chain SDK. This example shows how a user on Ethereum can send an email to their friend ySYrGNLLJSK9hvGGpoxg8TzWfRe8ftBtDSMECtx2eJR on Solana.",source:"@site/docs/chain/02-tutorials/01-Build-cross-chain-email.mdx",sourceDirName:"chain/02-tutorials",slug:"/chain/tutorials/build-email",permalink:"/push-chain-website/pr-preview/pr-1083/docs/chain/tutorials/build-email",draft:!1,unlisted:!1,editUrl:"https://github.com/push-protocol/push-website/blob/main/docs/chain/02-tutorials/01-Build-cross-chain-email.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"docs-chain-tutorial-build-email",title:"Build Cross-Chain Email",hide_title:!0,slug:"./build-email",displayed_sidebar:"pushChainSidebar",sidebar_position:1,image:"/assets/docs/previews/docs_chain_tutorial_build_email--build_cross-chain_email.png"},sidebar:"pushChainSidebar",previous:{title:"Tutorials",permalink:"/push-chain-website/pr-preview/pr-1083/docs/chain/tutorials"},next:{title:"Build Cross-Chain Chat",permalink:"/push-chain-website/pr-preview/pr-1083/docs/chain/tutorials/build-chat"}},o={},l=[{value:"1. Installing dependencies",id:"1-installing-dependencies",level:2},{value:"2. Creating the Signer Object",id:"2-creating-the-signer-object",level:2},{value:"3. Initialize Push Chain",id:"3-initialize-push-chain",level:2},{value:"4. Recipient Addresses",id:"4-recipient-addresses",level:2},{value:"5. Send Email",id:"5-send-email",level:2},{value:"6. Fetch Emails",id:"6-fetch-emails",level:2},{value:"Complete Example Code",id:"complete-example-code",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Head:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"build-a-cross-chain-email",children:"Build a Cross-Chain Email"}),"\n",(0,s.jsxs)(n.p,{children:["In this guide, we\u2019ll demonstrate how to send a cross-chain email using the updated ",(0,s.jsx)(n.strong,{children:"Push Chain SDK"}),". This example shows how a user on Ethereum can send an email to their friend ",(0,s.jsx)(n.code,{children:"ySYrGNLLJSK9hvGGpoxg8TzWfRe8ftBtDSMECtx2eJR"})," on Solana."]}),"\n",(0,s.jsx)(n.p,{children:"We'll cover:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Setting up the SDK"}),"\n",(0,s.jsx)(n.li,{children:"Configuring sender and recipient addresses"}),"\n",(0,s.jsx)(n.li,{children:"Signing and sending a transaction"}),"\n",(0,s.jsx)(n.li,{children:"Fetching sent and received emails"}),"\n"]}),"\n",(0,s.jsx)(i,{children:(0,s.jsx)("title",{children:"Cross-Chain Email | Tutorial | Push Chain | Push Documentation"})}),"\n",(0,s.jsx)(n.h2,{id:"1-installing-dependencies",children:"1. Installing dependencies"}),"\n",(0,s.jsx)(n.p,{children:"To get started, install the required dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm install @pushchain/devnet viem\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why These Libraries?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@pushchain/devnet"}),": Core SDK for interacting with Push Chain."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"viem"}),": Utilities for Ethereum key management and signing."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Import installed dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Import Push Chain SDK\nimport { PushChain, CONSTANTS, createUniversalSigner, createUniversalAccount } from '@pushchain/devnet';\n\n// Import utility functions from viem\nimport { hexToBytes } from 'viem';\nimport { privateKeyToAccount, generatePrivateKey } from 'viem/accounts';\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2-creating-the-signer-object",children:"2. Creating the Signer Object"}),"\n",(0,s.jsx)(n.p,{children:"Let's create now the signer object that is responsible for proving ownership of the sender\u2019s account by signing the transaction."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const privateKey = generatePrivateKey(); // Replace it with your private key generation logic\nconst account = privateKeyToAccount(privateKey);\n\n// Create Signer. Defaults to Ethereum Sepolia\nconst signer = createUniversalSigner({\n  address: account.address,\n  signMessage: async (data) =>\n    hexToBytes(await account.signMessage({ message: { raw: data } })),\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3-initialize-push-chain",children:"3. Initialize Push Chain"}),"\n",(0,s.jsxs)(n.p,{children:["Initialize the Push Chain SDK using the signer object. The default environment is ",(0,s.jsx)(n.code,{children:"devnet"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const pushChain = await PushChain.initialize(signer);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"4-recipient-addresses",children:"4. Recipient Addresses"}),"\n",(0,s.jsx)(n.p,{children:"For this example, we\u2019ll use Ethereum as the sender\u2019s blockchain and Solana as the recipient\u2019s. Here\u2019s how to configure the recipient Solana address:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const recipients = [\n  createUniversalAccount({\n    chain: CONSTANTS.CHAIN.SOLANA,\n    chainId: CONSTANTS.CHAIN_ID.SOLANA.DEVNET,\n    address: 'ySYrGNLLJSK9hvGGpoxg8TzWfRe8ftBtDSMECtx2eJR',\n  }),\n];\n"})}),"\n",(0,s.jsx)(n.h2,{id:"5-send-email",children:"5. Send Email"}),"\n",(0,s.jsxs)(n.p,{children:["Send the serialized data and category (e.g., ",(0,s.jsx)(n.code,{children:"MY_EMAIL_APP"}),") to the recipients:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const tx = await pushChain.tx.send(recipients, {\n  category: 'MY_EMAIL_APP',\n  data: JSON.stringify({\n    title: 'Hello from Ethereum!',\n    message: 'This is a cross-chain email to Solana.',\n  }),\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"6-fetch-emails",children:"6. Fetch Emails"}),"\n",(0,s.jsx)(n.p,{children:"Now, let's fetch all the emails that a particular user has sent and received."}),"\n",(0,s.jsxs)(n.p,{children:["For fetching the emails sent, we use the function ",(0,s.jsx)(n.code,{children:"get"})," function from the ",(0,s.jsx)(n.code,{children:"tx"})," class."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const results = await pushChain.tx.get(tx.txHash);\nfor (const blocks of results.blocks) {\n  for (const t of blocks.transactions) {\n    console.log('email: ', t.data);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"complete-example-code",children:"Complete Example Code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Import Push Chain SDK\nimport { PushChain, CONSTANTS, createUniversalSigner, createUniversalAccount } from '@pushchain/devnet';\n\n// Import utility functions from viem\nimport { hexToBytes } from 'viem';\nimport { privateKeyToAccount, generatePrivateKey } from 'viem/accounts';\n\nconst privateKey = generatePrivateKey(); // Replace it with your private key generation logic\nconst account = privateKeyToAccount(privateKey);\n\n// Create Signer. Defaults to Ethereum Sepolia\nconst signer = createUniversalSigner({\n  address: account.address,\n  signMessage: async (data) =>\n    hexToBytes(await account.signMessage({ message: { raw: data } })),\n});\n\nconst pushChain = await PushChain.initialize(signer);\n\nconst recipients = [\n  createUniversalAccount({\n    chain: CONSTANTS.CHAIN.SOLANA,\n    chainId: CONSTANTS.CHAIN_ID.SOLANA.DEVNET,\n    address: 'ySYrGNLLJSK9hvGGpoxg8TzWfRe8ftBtDSMECtx2eJR',\n  }),\n];\n\nconst tx = await pushChain.tx.send(recipients, {\n  category: 'MY_EMAIL_APP',\n  data: JSON.stringify({\n    title: 'Hello from Ethereum!',\n    message: 'This is a cross-chain email to Solana.',\n  }),\n});\n\n// Delay for 3 seconds\n\nconst results = await pushChain.tx.get(tx.txHash);\nfor (const blocks of results.blocks) {\n  for (const t of blocks.transactions) {\n    console.log('email: ', t.data);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h1,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"This tutorial demonstrated how to build a cross-chain email system using the Push Chain SDK, enabling seamless communication between blockchains like Ethereum and Solana. By setting up the SDK, configuring accounts, and signing transactions, you\u2019ve learned how to send and fetch messages securely across chains."}),"\n",(0,s.jsx)(n.p,{children:"With this foundation, you can explore more use cases for cross-chain messaging and integrate these features into your dApps. Push Chain simplifies creating interoperable Web3 solutions, opening the door to innovative decentralized applications."})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);